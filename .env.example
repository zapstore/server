# Each variable's meaning, type, and validation rules are documented in the
# config.go of the corresponding package under /pkg (e.g. RELAY_* -> pkg/relay/config.go).

# System
SYSTEM_DIRECTORY_PATH=""

# IP Rate Limiting
RATE_INITIAL_TOKENS=100
RATE_MAX_TOKENS=300
RATE_TOKENS_PER_INTERVAL=100
RATE_INTERVAL=1m

# Access Control
ACL_UNKNOWN_PUBKEY_POLICY="VERTEX"

# Github
GITHUB_REQUEST_TIMEOUT=10s
GITHUB_API_TOKEN="GITHUB_API_TOKEN"

# Vertex
VERTEX_SORT="globalPagerank"
VERTEX_SOURCE=""
VERTEX_THRESHOLD=0.000005
VERTEX_SECRET_KEY="SECRET_KEY"
VERTEX_CACHE_EXPIRATION=24h
VERTEX_CACHE_SIZE=100000
VERTEX_REQUEST_TIMEOUT=10s

# Analytics
ANALYTICS_FLUSH_INTERVAL=5m
ANALYTICS_FLUSH_TIMEOUT=10s
ANALYTICS_FLUSH_SIZE=1000
ANALYTICS_QUEUE_SIZE=100000
ANALYTICS_GEO_ENABLED=true
ANALYTICS_GEO_REFRESH_INTERVAL=24h

# Analytics Geo
ANALYTICS_GEO_DOWNLOAD_ENDPOINT="https://downloads.ip66.dev/db/ip66.mmdb"
ANALYTICS_GEO_DOWNLOAD_TIMEOUT=1m
ANALYTICS_GEO_DOWNLOAD_MAX_SIZE=1000000000 # 1 GiB in bytes

# Relay
RELAY_HOSTNAME="relay.zapstore.dev" # used to validate NIP-42 AUTH
RELAY_PORT=3334
RELAY_QUEUE_CAPACITY=1000
RELAY_MAX_MESSAGE_BYTES=500000 # in bytes (0.5 MB)
RELAY_MAX_REQ_FILTERS=50
RELAY_RESPONSE_LIMIT=200
RELAY_ALLOWED_EVENT_KINDS=5,1063,3063,30063,30267,32267

# Relay Info (NIP-11)
RELAY_NAME="Zapstore"
RELAY_PUBKEY="78ce6faa72264387284e647ba6938995735ec8c7d5c5a65737e55130f026307d" # zapstore
RELAY_DESCRIPTION="The Zapstore relay"
RELAY_URL="wss://zapstore.dev/"
RELAY_ICON="https://image.nostr.build/a45cd91548e9d6e587da80b43ad7d3686898b9a10bb710f8b820aaae28020bd0.jpg"
RELAY_BANNER="https://image.nostr.build/a45cd91548e9d6e587da80b43ad7d3686898b9a10bb710f8b820aaae28020bd0.jpg"
RELAY_CONTACT="78ce6faa72264387284e647ba6938995735ec8c7d5c5a65737e55130f026307d" # zapstore
RELAY_SOFTWARE="https://github.com/zapstore/server"

# Blossom
BLOSSOM_HOSTNAME=cdn.zapstore.dev
BLOSSOM_PORT=3335
BLOSSOM_ALLOWED_MEDIA="application/vnd.android.package-archive,application/x-executable,application/x-mach-binary,image/jpeg,image/png,image/webp,image/gif,image/heic,image/heif,image/svg+xml"
BLOSSOM_STALL_TIMEOUT=30s

# Bunny
BUNNY_CDN_HOSTNAME="zapstore-test-1.b-cdn.net"
BUNNY_REQUEST_TIMEOUT=20m
BUNNY_STORAGE_ZONE_NAME="zapstore-test"
BUNNY_STORAGE_ZONE_HOSTNAME="storage.bunnycdn.com"
BUNNY_STORAGE_ZONE_PASSWORD="BUNNY_PASSWORD"
